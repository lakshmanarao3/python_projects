{% extends "base.html" %}
{% block title %}{{ post.title }}{% endblock %}
{% block content %}
    <h1>{{ post.title }}</h1>
    <p>{{ post.content }}</p>
    <p>Posted by {{ post.author.username }} on {{ post.date_posted.strftime('%Y-%m-%d') }}</p>
    <form method="POST" action="{{ url_for('like_post', post_id=post.id) }}">
        <button type="submit">Like</button> {{ post.likes }} Likes
    </form>
    <h2>Comments</h2>
    <ul>
        {% for comment in post.comments %}
            <li>{{ comment.content }} - {{ comment.author.username }} on {{ comment.date_posted.strftime('%Y-%m-%d') }}</li>
        {% endfor %}
    </ul>
    <form method="POST" action="{{ url_for('comment_post', post_id=post.id) }}">
        <textarea name="content" rows="3" required></textarea>
        <button type="submit">Add Comment</button>
    </form>
{% endblock %}
